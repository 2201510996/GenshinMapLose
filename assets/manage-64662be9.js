import{g as u}from"./methods-b011aea9.js";import{m as d}from"./map-737fbd00.js";import{bw as i,Q as g,y,z as h,a8 as x,a9 as k,af as v}from"./index-7151369c.js";const b={class:"box"},w={__name:"manage",setup(I){const o=g(null);let a=L.layerGroup(),r=null;return y(()=>{h(()=>{const{mapModule:s,activeIndex:n,getMap:l}=o.value,{tiles:t}=s[n];if(r!=t){const{map:p,rc:m}=l();$fetch.get("/all",{tiles:t}).then(_=>{a.clearLayers(),_.forEach(e=>{const c=L.marker(m.unproject([e.lng,e.lat])),f=L.popup({maxWidth:400,autoClose:!1}).setContent('<img style="width:400px;" src="'+u(e.url_rules,e.image_name)+'" alt="Image">');c.bindPopup(f),a.addLayer(c)}),a.addTo(p)}),r=t}})}),(s,n)=>(x(),k("div",b,[v(d,{ref_key:"mapRef",ref:o},null,512)]))}},C=i(w,[["__scopeId","data-v-fadabf60"]]);export{C as default};

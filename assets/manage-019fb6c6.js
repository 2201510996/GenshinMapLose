import{g as u}from"./methods-60ff845b.js";import{m as i}from"./map-4619a3bc.js";import{bw as d,Q as g,y,z as h,a8 as x,a9 as k,af as v}from"./index-a3be9d14.js";const w={class:"box"},I={__name:"manage",setup(b){const o=g(null);let a=L.layerGroup(),r=null;return y(()=>{h(()=>{const{mapModule:s,activeIndex:n,getMap:l}=o.value,{tiles:t}=s[n];if(r!=t){const{map:p,rc:m}=l();$fetch.get("/all",{tiles:t}).then(_=>{a.clearLayers(),_.forEach(e=>{const c=L.marker(m.unproject([e.lng,e.lat])),f=L.popup({maxWidth:400,autoClose:!1}).setContent('<img style="width:400px;" src="'+u(e.url_rules,e.image_name)+'" alt="Image">');c.bindPopup(f),a.addLayer(c)}),a.addTo(p)}),r=t}})}),(s,n)=>(x(),k("div",w,[v(i,{ref_key:"mapRef",ref:o},null,512)]))}},C=d(I,[["__scopeId","data-v-f941ef0f"]]);export{C as default};

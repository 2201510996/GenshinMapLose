import{_ as f,r as x,e as k,f as $,o as c,c as l,a as e,t as Z,F as I,g as w,n as C,p as j,d as M,h as P}from"./index-25f93aa5.js";const y="/map-images/arrow.png",b="/map-images/map_icon.png";const d=_=>(j("data-v-1c3fc976"),_=_(),M(),_),V={class:"content"},B={class:"map_control"},N={key:0,class:"open"},U={class:"head"},F={class:"img"},R=["src"],T={class:"title"},q={class:"open_content"},D=["onClick"],E={class:"img"},W=["src"],A=["src"],G={class:"title"},H=d(()=>e("div",{class:"arrow_bg"},[e("img",{src:y,alt:""})],-1)),J=[H],K=d(()=>e("div",{class:"map_icon"},[e("img",{src:b,alt:""})],-1)),O=d(()=>e("div",{class:"arrow_bg"},[e("img",{src:y,alt:""})],-1)),Q=[K,O],X=d(()=>e("div",{id:"map"},null,-1)),Y={__name:"map",setup(_){const r=x(!1),n=x(0),S=(t,s)=>{n.value=s,h()};k(()=>{h()});const p=$([{title:"提瓦特大陆",tiles:"tiles_tivat",img:"tiwate.png",imgSize:[15597,13782],minZoom:3,maxZoom:7},{title:"琉形蜃境",tiles:"tiles_lxsj",img:"lxsj.png",imgSize:[7900,7900],minZoom:2,maxZoom:6},{title:"蒙德",tiles:"tiles_tivat",img:"md.png",imgSize:[14173,11254],centerPosi:[8453,1821],minZoom:3,maxZoom:7},{title:"璃月",tiles:"tiles_tivat",img:"ly.png",imgSize:[14173,11254],centerPosi:[7239,4660],minZoom:3,maxZoom:7},{title:"稻妻",tiles:"tiles_tivat",img:"dq.png",imgSize:[14173,11254],centerPosi:[12005,7171],minZoom:3,maxZoom:7},{title:"须弥",tiles:"tiles_tivat",img:"xm.png",imgSize:[14173,11254],centerPosi:[4828,4568],minZoom:3,maxZoom:7},{title:"渊下宫",tiles:"tiles_yxg",img:"yxg.png",imgSize:[3277,3277],minZoom:2,maxZoom:5},{title:"层岩巨渊·地下矿区",tiles:"tiles_cyjy",img:"cyjy.png",imgSize:[4096,4096],minZoom:3,maxZoom:5}]);let g,o,u;function h(){const t=p[n.value],s=t.imgSize,i=t.minZoom,m=t.maxZoom;o||(o=L.map("map",{crs:L.CRS.Simple,zoomControl:!1,zoomSnap:.5}),o.on("click",function(z){const v=a.project(z.latlng);L.marker(a.unproject(v)).addTo(o).bindPopup("["+Math.floor(v.x)+","+Math.floor(v.y)+"]").openPopup()})),o.setMinZoom(i),o.setMaxZoom(m);const a=new L.RasterCoords(o,s);t.centerPosi?o.setView(a.unproject(t.centerPosi),m-1):o.setView(a.unproject([s[0]/2,s[1]/2]),3),u!=t.tiles&&(g&&o.removeLayer(g),g=L.tileLayer(`./${t.tiles}/{z}/{x}/{y}.png`,{noWrap:!0,minZoom:i,bounds:a.getMaxBounds(),maxNativeZoom:a.zoomLevel()}).addTo(o),u=t.tiles)}return(t,s)=>(c(),l("div",V,[e("div",B,[r.value?(c(),l("div",N,[e("div",U,[e("div",F,[e("img",{src:t.$m.getImgUrl(`/map-images/map-img-head/${p[n.value].img}`),alt:""},null,8,R)]),e("div",T,Z(p[n.value].title),1)]),e("div",q,[(c(!0),l(I,null,w(p,(i,m)=>(c(),l("div",{class:C(["item",n.value==m?"active":""]),key:m,onClick:a=>S(i,m)},[e("div",E,[e("img",{class:"info",src:t.$m.getImgUrl(`/map-images/map-img-list/${i.img}`),alt:""},null,8,W),e("img",{class:"active",src:t.$m.getImgUrl(`/map-images/map-img-active/${i.img}`),alt:""},null,8,A)]),e("div",G,Z(i.title),1)],10,D))),128))]),e("div",{class:"on_open",onClick:s[0]||(s[0]=i=>r.value=!1)},J)])):(c(),l("div",{key:1,class:"no_open",onClick:s[1]||(s[1]=i=>r.value=!0)},Q))]),X]))}},ee=f(Y,[["__scopeId","data-v-1c3fc976"]]);const te={class:"box"},oe={__name:"challenge",setup(_){return(r,n)=>(c(),l("div",te,[P(ee)]))}},ae=f(oe,[["__scopeId","data-v-893393ce"]]);export{ae as default};

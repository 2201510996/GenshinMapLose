import{_ as j,r as f,e as z,f as S,o as l,c as m,a as t,t as h,F as y,g as N,n as k,p as V,d as w,h as B}from"./index-f9bfe0dd.js";const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAaVBMVEVHcEzq5Nfr49fv38/t59nv59fs5dfs4tfr5djr49fn59fs5Nfq5NTs5dnr5djs5djt5trt5tjs4tbs59ns5tjv5NTs5tjt6Njr49jq5tjp4tbq5Njs5djr49bs5djs5Njq5Nrt5djs5dj2m7ibAAAAInRSTlMAYEAQfyDvYN+AIKAw78+fj49QX78wr2+QcFBwT5DPvzCfG1pO6QAAATNJREFUWMPt19lOwzAQBdDrOA6223SHlrVw//8jeYjaGFdIcXJBIGXec5RZbI2BOeb4r1GJnPpO4ziKIC+CNtRAR2og12gg56mBVtRAH9RANTXQxZkKXR2+iBwvcpqocfgkcsJfcDa98zrhhrQPvbMAgIqPo87pKnOcZ/te7tz7W4f0rtTZN5ljux8slZJ2df2yl0SLJHfIHdcnWiBVSXkakxeM7W5g15Pp4TkCwDEpGEnWw6SQfNLlEb46g6c8Ta3LwzRjHCAe8jyWiWRK2h++l0zZIKXJbFPJlI52TAq17iVTfthupIrk89RrZA0AZvTtdsrqNH71C8XT/KvSXiW1TiV5q5KmrjVBBV2l6avfQgXhTQVF1XqMKFrYAaOCcFJBVvXMwlIFIaggq3oczzHHj8cnFNVHy3/DatAAAAAASUVORK5CYII=",C="/assets/map_icon-ec934ea8.png";const g=r=>(V("data-v-565a1ae7"),r=r(),w(),r),M={class:"content"},T={class:"map_control"},b={key:0,class:"open"},P={class:"head"},R={class:"img"},q=["src"],X={class:"title"},$={class:"open_content"},F=["onClick"],K={class:"img"},E=["src"],H=["src"],Q={class:"title"},J=g(()=>t("div",{class:"arrow_bg"},[t("img",{src:Z,alt:""})],-1)),O=[J],W=g(()=>t("div",{class:"map_icon"},[t("img",{src:C,alt:""})],-1)),D=g(()=>t("div",{class:"arrow_bg"},[t("img",{src:Z,alt:""})],-1)),U=[W,D],G=g(()=>t("div",{id:"map"},null,-1)),Y={__name:"map",setup(r){const _=f(!1),n=f(0),x=(e,o)=>{n.value=o,u()};z(()=>{u()});const d=S([{title:"提瓦特大陆",tiles:"tiles_tivat",img:"tiwate.png",imgSize:[14173,11254],minZoom:3,maxZoom:7},{title:"琉形蜃境",tiles:"tiles_lxsj",img:"lxsj.png",imgSize:[7900,7900],minZoom:2,maxZoom:6},{title:"蒙德",tiles:"tiles_tivat",img:"md.png",imgSize:[14173,11254],centerPosi:[8453,1821],minZoom:3,maxZoom:7},{title:"璃月",tiles:"tiles_tivat",img:"ly.png",imgSize:[14173,11254],centerPosi:[7239,4660],minZoom:3,maxZoom:7},{title:"稻妻",tiles:"tiles_tivat",img:"dq.png",imgSize:[14173,11254],centerPosi:[12005,7171],minZoom:3,maxZoom:7},{title:"须弥",tiles:"tiles_tivat",img:"xm.png",imgSize:[14173,11254],centerPosi:[4828,4568],minZoom:3,maxZoom:7},{title:"渊下宫",tiles:"tiles_yxg",img:"yxg.png",imgSize:[3277,3277],minZoom:2,maxZoom:5},{title:"层岩巨渊·地下矿区",tiles:"tiles_cyjy",img:"cyjy.png",imgSize:[4096,4096],minZoom:3,maxZoom:5}]);let p,s,A;function u(){const e=d[n.value],o=e.imgSize,i=e.minZoom,c=e.maxZoom;s||(s=L.map("map",{crs:L.CRS.Simple,zoomControl:!1,zoomSnap:.5}),s.on("click",function(I){const v=a.project(I.latlng);L.marker(a.unproject(v)).addTo(s).bindPopup("["+Math.floor(v.x)+","+Math.floor(v.y)+"]").openPopup()})),s.setMinZoom(i),s.setMaxZoom(c);const a=new L.RasterCoords(s,o);e.centerPosi?s.setView(a.unproject(e.centerPosi),c-1):s.setView(a.unproject([o[0]/2,o[1]/2]),3),A!=e.tiles&&(p&&s.removeLayer(p),p=L.tileLayer(`./${e.tiles}/{z}/{x}/{y}.png`,{noWrap:!0,minZoom:i,bounds:a.getMaxBounds(),maxNativeZoom:a.zoomLevel()}).addTo(s),A=e.tiles)}return(e,o)=>(l(),m("div",M,[t("div",T,[_.value?(l(),m("div",b,[t("div",P,[t("div",R,[t("img",{src:e.$m.getImgUrl(`../assets/map-images/map-img-head/${d[n.value].img}`),alt:""},null,8,q)]),t("div",X,h(d[n.value].title),1)]),t("div",$,[(l(!0),m(y,null,N(d,(i,c)=>(l(),m("div",{class:k(["item",n.value==c?"active":""]),key:c,onClick:a=>x(i,c)},[t("div",K,[t("img",{class:"info",src:e.$m.getImgUrl(`../assets/map-images/map-img-list/${i.img}`),alt:""},null,8,E),t("img",{class:"active",src:e.$m.getImgUrl(`../assets/map-images/map-img-active/${i.img}`),alt:""},null,8,H)]),t("div",Q,h(i.title),1)],10,F))),128))]),t("div",{class:"on_open",onClick:o[0]||(o[0]=i=>_.value=!1)},O)])):(l(),m("div",{key:1,class:"no_open",onClick:o[1]||(o[1]=i=>_.value=!0)},U))]),G]))}},tt=j(Y,[["__scopeId","data-v-565a1ae7"]]);const et={class:"box"},st={__name:"challenge",setup(r){return(_,n)=>(l(),m("div",et,[B(tt)]))}},at=j(st,[["__scopeId","data-v-893393ce"]]);export{at as default};
